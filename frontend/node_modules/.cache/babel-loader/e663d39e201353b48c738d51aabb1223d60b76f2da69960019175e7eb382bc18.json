{"ast":null,"code":"var _jsxFileName = \"/Users/vanshkapoor/Desktop/resume-review-ai/frontend/src/components/PDFViewer.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from \"react\";\nimport { Document, Page, pdfjs } from \"react-pdf\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\nconst PDFContainer = styled.div`\n  background: #fff;\n  border-radius: 1.2rem;\n  box-shadow: 0 2px 12px rgba(99,102,241,0.04);\n  padding: 1rem;\n  margin: 0 auto;\n  max-width: 100%;\n  overflow-x: auto;\n`;\n_c = PDFContainer;\nconst Highlight = styled.span`\n  background: #ffe066;\n  border-radius: 0.2em;\n  padding: 0.1em 0.2em;\n`;\n_c2 = Highlight;\nfunction highlightText(text, highlights) {\n  if (!highlights || highlights.length === 0) return text;\n  let parts = [text];\n  highlights.forEach(h => {\n    const newParts = [];\n    parts.forEach(part => {\n      if (typeof part === \"string\" && part.toLowerCase().includes(h.toLowerCase())) {\n        const idx = part.toLowerCase().indexOf(h.toLowerCase());\n        if (idx !== -1) {\n          newParts.push(part.slice(0, idx));\n          newParts.push(/*#__PURE__*/_jsxDEV(Highlight, {\n            children: part.slice(idx, idx + h.length)\n          }, h + idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 25\n          }, this));\n          newParts.push(part.slice(idx + h.length));\n        } else {\n          newParts.push(part);\n        }\n      } else {\n        newParts.push(part);\n      }\n    });\n    parts = newParts;\n  });\n  return parts;\n}\nconst PDFViewer = ({\n  file,\n  highlights,\n  pageNumber = 1\n}) => {\n  _s();\n  const viewerRef = useRef();\n  useEffect(() => {\n    if (viewerRef.current && highlights && highlights.length > 0) {\n      // Optionally scroll to highlight\n      const el = viewerRef.current.querySelector(\"span[style*='background']\");\n      if (el) el.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"center\"\n      });\n    }\n  }, [highlights]);\n  return /*#__PURE__*/_jsxDEV(PDFContainer, {\n    ref: viewerRef,\n    children: /*#__PURE__*/_jsxDEV(Document, {\n      file: file,\n      loading: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading PDF...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 38\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Page, {\n        pageNumber: pageNumber,\n        width: 420,\n        renderTextLayer: true,\n        customTextRenderer: ({\n          str\n        }) => highlightText(str, highlights)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(PDFViewer, \"WZlWBGTTx29lA8KL541/EmcE3B8=\");\n_c3 = PDFViewer;\nexport default PDFViewer;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"PDFContainer\");\n$RefreshReg$(_c2, \"Highlight\");\n$RefreshReg$(_c3, \"PDFViewer\");","map":{"version":3,"names":["React","useRef","useEffect","Document","Page","pdfjs","styled","jsxDEV","_jsxDEV","GlobalWorkerOptions","workerSrc","version","PDFContainer","div","_c","Highlight","span","_c2","highlightText","text","highlights","length","parts","forEach","h","newParts","part","toLowerCase","includes","idx","indexOf","push","slice","children","fileName","_jsxFileName","lineNumber","columnNumber","PDFViewer","file","pageNumber","_s","viewerRef","current","el","querySelector","scrollIntoView","behavior","block","ref","loading","width","renderTextLayer","customTextRenderer","str","_c3","$RefreshReg$"],"sources":["/Users/vanshkapoor/Desktop/resume-review-ai/frontend/src/components/PDFViewer.js"],"sourcesContent":["import React, { useRef, useEffect } from \"react\";\nimport { Document, Page, pdfjs } from \"react-pdf\";\nimport styled from \"styled-components\";\n\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n\nconst PDFContainer = styled.div`\n  background: #fff;\n  border-radius: 1.2rem;\n  box-shadow: 0 2px 12px rgba(99,102,241,0.04);\n  padding: 1rem;\n  margin: 0 auto;\n  max-width: 100%;\n  overflow-x: auto;\n`;\n\nconst Highlight = styled.span`\n  background: #ffe066;\n  border-radius: 0.2em;\n  padding: 0.1em 0.2em;\n`;\n\nfunction highlightText(text, highlights) {\n  if (!highlights || highlights.length === 0) return text;\n  let parts = [text];\n  highlights.forEach(h => {\n    const newParts = [];\n    parts.forEach(part => {\n      if (typeof part === \"string\" && part.toLowerCase().includes(h.toLowerCase())) {\n        const idx = part.toLowerCase().indexOf(h.toLowerCase());\n        if (idx !== -1) {\n          newParts.push(part.slice(0, idx));\n          newParts.push(<Highlight key={h + idx}>{part.slice(idx, idx + h.length)}</Highlight>);\n          newParts.push(part.slice(idx + h.length));\n        } else {\n          newParts.push(part);\n        }\n      } else {\n        newParts.push(part);\n      }\n    });\n    parts = newParts;\n  });\n  return parts;\n}\n\nconst PDFViewer = ({ file, highlights, pageNumber = 1 }) => {\n  const viewerRef = useRef();\n\n  useEffect(() => {\n    if (viewerRef.current && highlights && highlights.length > 0) {\n      // Optionally scroll to highlight\n      const el = viewerRef.current.querySelector(\"span[style*='background']\");\n      if (el) el.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n    }\n  }, [highlights]);\n\n  return (\n    <PDFContainer ref={viewerRef}>\n      <Document file={file} loading={<div>Loading PDF...</div>}>\n        <Page\n          pageNumber={pageNumber}\n          width={420}\n          renderTextLayer={true}\n          customTextRenderer={({ str }) => highlightText(str, highlights)}\n        />\n      </Document>\n    </PDFContainer>\n  );\n};\n\nexport default PDFViewer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}